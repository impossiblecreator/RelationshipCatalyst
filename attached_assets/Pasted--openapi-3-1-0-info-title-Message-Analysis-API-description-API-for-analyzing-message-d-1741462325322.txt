{"openapi":"3.1.0","info":{"title":"Message Analysis API","description":"API for analyzing message drafts using LLAMA 70B via Groq","version":"1.0.0"},"paths":{"/analyze_message":{"post":{"summary":"Analyze Message","operationId":"analyze_message_analyze_message_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Message":{"properties":{"role":{"type":"string","title":"Role","description":"Role of the message sender (user, assistant, or system)"},"content":{"type":"string","title":"Content","description":"Content of the message"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Unix timestamp of message creation"}},"type":"object","required":["role","content"],"title":"Message"},"MessageAnalysisRequest":{"properties":{"draft":{"$ref":"#/components/schemas/Message","description":"Draft message to analyze"},"message_history":{"items":{"$ref":"#/components/schemas/Message"},"type":"array","title":"Message History","description":"Previous conversation messages"},"user_attributes":{"$ref":"#/components/schemas/UserAttributes","description":"User attributes for context"}},"type":"object","required":["draft","user_attributes"],"title":"MessageAnalysisRequest"},"MessageAnalysisResponse":{"properties":{"messageFeedback":{"$ref":"#/components/schemas/MessageFeedback"},"connectionScore":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Connectionscore","description":"Score indicating connection quality"}},"type":"object","required":["messageFeedback","connectionScore"],"title":"MessageAnalysisResponse"},"MessageFeedback":{"properties":{"suggestion":{"items":{"type":"string"},"type":"array","title":"Suggestion","description":"Most important improvement suggestions"},"strength":{"items":{"type":"string"},"type":"array","title":"Strength","description":"Top strengths of the message"}},"type":"object","required":["suggestion","strength"],"title":"MessageFeedback"},"UserAttributes":{"properties":{"gender":{"type":"string","title":"Gender","description":"Gender of the user"},"age":{"type":"integer","title":"Age","description":"Age of the user"},"relationship_context":{"type":"string","title":"Relationship Context","description":"Context of the relationship"}},"type":"object","required":["gender","age","relationship_context"],"title":"UserAttributes"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}